# Polymarket CLOB Trading Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# REQUIRED FOR LIVE TRADING
# =============================================================================

# Your wallet's private key (without 0x prefix)
# WARNING: Never commit your actual private key!
POLYMARKET_PRIVATE_KEY=your_private_key_here

# The address that holds your funds on Polymarket
# For EOA wallets: this is your wallet address
# For email/Magic wallets: this is your proxy wallet address
POLYMARKET_FUNDER_ADDRESS=0xYourAddressHere

# Signature type:
# 0 = EOA/MetaMask (standard wallets)
# 1 = Email/Magic wallet (delegated signing)
# 2 = Browser wallet proxy
POLYMARKET_SIGNATURE_TYPE=0

# =============================================================================
# OPTIONAL SETTINGS
# =============================================================================

# Trading parameters
DEFAULT_TRADE_SIZE=50
MAX_POSITION_SIZE=500

# Signal thresholds (as decimals, e.g., 0.10 = 10%)
SIGNAL_ENTRY_LOW=0.10
SIGNAL_ENTRY_HIGH=0.25
SIGNAL_TAKE_PROFIT=0.30
SIGNAL_STOP_LOSS_OFFSET=0.05

# =============================================================================
# RESIDENTIAL PROXY (REQUIRED FOR CLOUD DEPLOYMENT)
# =============================================================================

# Polymarket uses Cloudflare which blocks datacenter IPs.
# You need a residential proxy for cloud deployments (Fly.io, Railway, etc.)
#
# Recommended: Smartproxy ($9/10GB is plenty for API calls)
# Get your credentials from: Smartproxy Dashboard > Proxy Setup
#
# HTTP proxy (for REST API calls) - port 10001
RESIDENTIAL_PROXY_URL=http://username:password@gate.smartproxy.com:10001
#
# SOCKS5 proxy (for WebSocket connections) - port 10000
# SOCKS5 is more reliable for WebSocket than HTTP proxy because it operates
# at TCP level rather than HTTP level, avoiding WebSocket upgrade issues
RESIDENTIAL_SOCKS5_URL=socks5://username:password@gate.smartproxy.com:10000

# =============================================================================
# PROFIT TRANSFER CONFIGURATION
# =============================================================================

# Cold wallet address (where profits are transferred)
# This should be a separate wallet for security
COLD_WALLET_ADDRESS=0xYourColdWalletAddressHere

# Transfer triggers
PROFIT_TRANSFER_THRESHOLD=100                # Transfer when profit >= $100
PROFIT_TRANSFER_MAX_INTERVAL_HOURS=24       # OR after 24 hours

# Polygon RPC endpoint (required for profit transfers)
# Get a free API key from https://alchemy.com or https://infura.io
# Create an app for "Polygon PoS" (not Ethereum mainnet!)
POLYGON_RPC_URL=https://polygon-mainnet.g.alchemy.com/v2/YOUR_API_KEY

# Safety limits
MINIMUM_TRANSFER_AMOUNT=10                   # Don't transfer less than $10
MAXIMUM_SINGLE_TRANSFER=10000                # Safety cap per transfer

# Retry configuration
MAX_TRANSFER_RETRIES=3                       # Retry failed transfers
TRANSFER_RETRY_BACKOFF_SECONDS=60            # Initial backoff (60s → 120s → 240s)

# Testing mode (IMPORTANT: Set to 'false' for real transfers!)
PROFIT_TRANSFER_DRY_RUN=true                 # true = log only, false = real transfers

# =============================================================================
# FLY.IO DEPLOYMENT
# =============================================================================

# PostgreSQL database (Fly.io Postgres or external)
DATABASE_URL=postgresql://user:password@host:5432/dbname

# Discord webhook for trade alerts
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_TOKEN

# Trading mode: 'live' for real trading, 'paper' for simulation
TRADING_MODE=live

# CLOB API Credentials (extracted from Polymarket localStorage)
# See: reveal.magic.link/polymarket or browser devtools
POLYMARKET_API_KEY=your_api_key_here
POLYMARKET_API_SECRET=your_api_secret_here
POLYMARKET_API_PASSPHRASE=your_passphrase_here

# =============================================================================
# HOW TO GET YOUR PRIVATE KEY
# =============================================================================
#
# Option 1: MetaMask / EOA Wallet
#   1. Open MetaMask
#   2. Click the three dots next to your account
#   3. Select "Account Details" > "Export Private Key"
#   4. Enter your password and copy the key
#
# Option 2: Email/Magic Wallet (Polymarket account)
#   1. You'll need to export from Polymarket's interface
#   2. Or use the browser developer tools to extract
#   3. Set POLYMARKET_SIGNATURE_TYPE=1
#
# =============================================================================
# IMPORTANT: TOKEN ALLOWANCES (EOA USERS ONLY)
# =============================================================================
#
# Before trading, you must approve the Polymarket contracts to spend your tokens.
# This is a one-time setup per wallet.
#
# USDC Token: 0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174
# Approve these contracts:
#   - 0x4bFb41d5B3570DeFd03C39a9A4D8dE6Bd8B8982E
#   - 0xC5d563A36AE78145C45a50134d48A1215220f80a
#   - 0xd91E80cF2E7be2e162c6513ceD06f1dD0dA35296
#
# Conditional Tokens: 0x4D97DCd97eC945f40cF65F87097ACe5EA0476045
# Approve the same three contracts above.
#
# Email wallet users have allowances set automatically.
# =============================================================================
